<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class PublicPluginManager | Onix Plugin Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class PublicPluginManager | Onix Plugin Documentation ">
      
      <meta name="description" content="Wrapper allowing you to access public plugin data.">
      <link rel="icon" href="../images/favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/OnixClient/OnixDotnetRuntime/new/master/apiSpec/new?filename=OnixRuntime_Plugin_PublicPluginManager.md&amp;value=---%0Auid%3A%20OnixRuntime.Plugin.PublicPluginManager%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/logo.svg" alt="Onix Plugin Documentation">
            Onix Plugin Documentation
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="OnixRuntime.Plugin.PublicPluginManager">



  <h1 id="OnixRuntime_Plugin_PublicPluginManager" data-uid="OnixRuntime.Plugin.PublicPluginManager" class="text-break">
Class PublicPluginManager  <a class="header-action link-secondary" title="View source" href="https://github.com/OnixClient/OnixDotnetRuntime/blob/master/OnixRuntime/Plugin/PublicPluginManager.cs/#L10"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="OnixRuntime.html">OnixRuntime</a>.<a class="xref" href="OnixRuntime.Plugin.html">Plugin</a></dd></dl>
  <dl><dt>Assembly</dt><dd>OnixRuntime.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Wrapper allowing you to access public plugin data.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class PublicPluginManager</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><span class="xref">PublicPluginManager</span></div>
    </dd>
  </dl>



  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>






  <h2 class="section" id="fields">Fields
</h2>



  <h3 id="OnixRuntime_Plugin_PublicPluginManager_PluginsLock" data-uid="OnixRuntime.Plugin.PublicPluginManager.PluginsLock">
  PluginsLock
  <a class="header-action link-secondary" title="View source" href="https://github.com/OnixClient/OnixDotnetRuntime/blob/master/OnixRuntime/Plugin/PublicPluginManager.cs/#L22"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>When you want to access plugins, you can use this lock.
Note that by default <a class="xref" href="OnixRuntime.Plugin.PublicPluginManager.html#OnixRuntime_Plugin_PublicPluginManager_GetPlugins_System_Boolean_">GetPlugins(bool)</a> will lock the lock for you in reader mode.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ReaderWriterLockSlim PluginsLock</code></pre>
  </div>




  <h4 class="section">Field Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.readerwriterlockslim">ReaderWriterLockSlim</a></dt>
    <dd></dd>
  </dl>









  <h2 class="section" id="properties">Properties
</h2>


  <a id="OnixRuntime_Plugin_PublicPluginManager_PluginDirectory_" data-uid="OnixRuntime.Plugin.PublicPluginManager.PluginDirectory*"></a>

  <h3 id="OnixRuntime_Plugin_PublicPluginManager_PluginDirectory" data-uid="OnixRuntime.Plugin.PublicPluginManager.PluginDirectory">
  PluginDirectory
  <a class="header-action link-secondary" title="View source" href="https://github.com/OnixClient/OnixDotnetRuntime/blob/master/OnixRuntime/Plugin/PublicPluginManager.cs/#L16"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the directory where plugins are stored.
OnixClient/Plugins/plugins</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static string PluginDirectory { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="OnixRuntime_Plugin_PublicPluginManager_GetDelegatesForEventInvocations_" data-uid="OnixRuntime.Plugin.PublicPluginManager.GetDelegatesForEventInvocations*"></a>

  <h3 id="OnixRuntime_Plugin_PublicPluginManager_GetDelegatesForEventInvocations_System_Delegate___" data-uid="OnixRuntime.Plugin.PublicPluginManager.GetDelegatesForEventInvocations(System.Delegate[])">
  GetDelegatesForEventInvocations(Delegate[]?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/OnixClient/OnixDotnetRuntime/blob/master/OnixRuntime/Plugin/PublicPluginManager.cs/#L29"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets delegates for event invocations. When you are having a public event available to other plugins, you can use this so trust is respected and not overshared.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static IEnumerable&lt;Delegate&gt; GetDelegatesForEventInvocations(Delegate[]? functions)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>functions</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.delegate">Delegate</a>[]</dt>
    <dd><p>The array of delegate functions.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1">IEnumerable</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.delegate">Delegate</a>&gt;</dt>
    <dd><p>An enumerable of delegates and their trust status.</p>
</dd>
  </dl>











  <a id="OnixRuntime_Plugin_PublicPluginManager_GetPluginByUuid_" data-uid="OnixRuntime.Plugin.PublicPluginManager.GetPluginByUuid*"></a>

  <h3 id="OnixRuntime_Plugin_PublicPluginManager_GetPluginByUuid_System_String_System_Boolean_" data-uid="OnixRuntime.Plugin.PublicPluginManager.GetPluginByUuid(System.String,System.Boolean)">
  GetPluginByUuid(string, bool)
  <a class="header-action link-secondary" title="View source" href="https://github.com/OnixClient/OnixDotnetRuntime/blob/master/OnixRuntime/Plugin/PublicPluginManager.cs/#L77"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>This tries to get the plugin by its uuid.
When you store an instance of a plugin, you should store the uuid instead of the instance itself and call this method.
When loading/unloading enabling/disabling plugins, the instance may be different or disappear for some time before coming back.
This ensures you're always interacting with a plugin as optimally as possible.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static IOnixPlugin? GetPluginByUuid(string uuid, bool lockPluginsLock = true)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>uuid</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The uuid to look for.</p>
</dd>
    <dt><code>lockPluginsLock</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Defaults to true, set to false if you wish to lock the lock yourself.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="OnixRuntime.Plugin.IOnixPlugin.html">IOnixPlugin</a></dt>
    <dd><p>The plugin or null.</p>
</dd>
  </dl>











  <a id="OnixRuntime_Plugin_PublicPluginManager_GetPlugins_" data-uid="OnixRuntime.Plugin.PublicPluginManager.GetPlugins*"></a>

  <h3 id="OnixRuntime_Plugin_PublicPluginManager_GetPlugins_System_Boolean_" data-uid="OnixRuntime.Plugin.PublicPluginManager.GetPlugins(System.Boolean)">
  GetPlugins(bool)
  <a class="header-action link-secondary" title="View source" href="https://github.com/OnixClient/OnixDotnetRuntime/blob/master/OnixRuntime/Plugin/PublicPluginManager.cs/#L56"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets every plugin that is loaded or unloaded but available.
This will by default lock the lock for reading, if you want to avoid locking the lock or have already locked it, set lockPluginsLock to false.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static IEnumerable&lt;IOnixPlugin&gt; GetPlugins(bool lockPluginsLock = true)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>lockPluginsLock</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Defaults to true, set to false if you wish to lock the lock yourself.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1">IEnumerable</a>&lt;<a class="xref" href="OnixRuntime.Plugin.IOnixPlugin.html">IOnixPlugin</a>&gt;</dt>
    <dd><p>The plugins as an IEnumerable.</p>
</dd>
  </dl>











  <a id="OnixRuntime_Plugin_PublicPluginManager_SaveRelevantPlugins_" data-uid="OnixRuntime.Plugin.PublicPluginManager.SaveRelevantPlugins*"></a>

  <h3 id="OnixRuntime_Plugin_PublicPluginManager_SaveRelevantPlugins" data-uid="OnixRuntime.Plugin.PublicPluginManager.SaveRelevantPlugins">
  SaveRelevantPlugins()
  <a class="header-action link-secondary" title="View source" href="https://github.com/OnixClient/OnixDotnetRuntime/blob/master/OnixRuntime/Plugin/PublicPluginManager.cs/#L94"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Saves all relevant plugins. Which means they are loaded. Unloaded plugins don't have any code running, or options shown to the user that need saving.
Unloading, enabling and disabling a plugin saves the plugin and the options.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static void SaveRelevantPlugins()</code></pre>
  </div>













  <a id="OnixRuntime_Plugin_PublicPluginManager_SaveRelevantPluginsInTheBackground_" data-uid="OnixRuntime.Plugin.PublicPluginManager.SaveRelevantPluginsInTheBackground*"></a>

  <h3 id="OnixRuntime_Plugin_PublicPluginManager_SaveRelevantPluginsInTheBackground" data-uid="OnixRuntime.Plugin.PublicPluginManager.SaveRelevantPluginsInTheBackground">
  SaveRelevantPluginsInTheBackground()
  <a class="header-action link-secondary" title="View source" href="https://github.com/OnixClient/OnixDotnetRuntime/blob/master/OnixRuntime/Plugin/PublicPluginManager.cs/#L100"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Saves all relevant plugins in the background. Which means they are loaded. Unloaded plugins don't have any code running, or options shown to the user that need saving.
Unloading, enabling and disabling a plugin saves the plugin and the options.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static void SaveRelevantPluginsInTheBackground()</code></pre>
  </div>













  <a id="OnixRuntime_Plugin_PublicPluginManager_SetAndLoadConfig_" data-uid="OnixRuntime.Plugin.PublicPluginManager.SetAndLoadConfig*"></a>

  <h3 id="OnixRuntime_Plugin_PublicPluginManager_SetAndLoadConfig_System_String_" data-uid="OnixRuntime.Plugin.PublicPluginManager.SetAndLoadConfig(System.String)">
  SetAndLoadConfig(string)
  <a class="header-action link-secondary" title="View source" href="https://github.com/OnixClient/OnixDotnetRuntime/blob/master/OnixRuntime/Plugin/PublicPluginManager.cs/#L85"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Sets the configuration name and reloads all plugins.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static void SetAndLoadConfig(string configName)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>configName</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The name of the config.</p>
</dd>
  </dl>













</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/OnixClient/OnixDotnetRuntime/blob/master/OnixRuntime/Plugin/PublicPluginManager.cs/#L10" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
